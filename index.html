<!DOCTYPE html>
<html lang="ja">
<head>
    <!--æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®š-->
    <meta charset="UTF-8">

    <!--ç”»é¢ã‚µã‚¤ã‚ºã«åˆã‚ã›ã¦è¡¨ç¤ºã‚’èª¿ç¯€-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--è¦‹å‡ºã—ã‚’è¡¨ç¤º-->
    <h1>ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒª</h1>
    <p>ã“ã“ã«ãƒ¡ãƒ¢ã‚’å…¥åŠ›ã§ãã¾ã™ã€‚</p>

     <!--å…¥åŠ›æ¬„ã‚’ä½œæˆ-->
    <input type="text" id="memoInput" placeholder="ãƒ¡ãƒ¢ã‚’å…¥åŠ›">

    <!--ãƒ¡ãƒ¢ã®è¿½åŠ ãƒœã‚¿ãƒ³ã‚’ä½œæˆ-->
    <button id="addMemo">è¿½åŠ </button>

    <!--ãƒ¡ãƒ¢ã‚’ãƒªã‚¹ãƒˆè¡¨ç¤º-->
    <ul id="memoList"></ul>
    <script>
        // å…¥åŠ›æ¬„ã‚’å–å¾—
        const input = document.getElementById("memoInput");
        // ãƒœã‚¿ãƒ³ã‚’å–å¾—
        const button = document.getElementById("addMemo");
        // ãƒªã‚¹ãƒˆã‚’å–å¾—
        const memoList = document.getElementById("memoList");

        // â‘¡ ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰å‹•ãã‚ˆã†ã«ã™ã‚‹
        button.addEventListener("click", function() {

            // â‘¢ å…¥åŠ›ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
            const text = input.value;

            // â‘£ å…¥åŠ›æ¬„ãŒç©ºã ã£ãŸã‚‰ä½•ã‚‚ã—ãªã„
            if (text === "") {
                return;     //ä»¥é™ã®å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—
            }

            // æ–°ã—ã„ãƒ¡ãƒ¢ã‚’ä½œæˆ
            const li = document.createElement("li");
            li.textContent = text;

            //ç·¨é›†ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
            const editButton = document.createElement("button");
            editButton.textContent = "âœï¸";
            editButton.classList.add("edit-btn");
            // å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "ğŸ—‘ï¸";
            deleteButton.classList.add("delete-btn"); 

            //ãƒªã‚¹ãƒˆã«è¿½åŠ 
            memoList.appendChild(li);
            //<li> ã®ä¸­ã«ç·¨é›†ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            li.appendChild(editButton);
            // <li> ã®ä¸­ã«å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            li.appendChild(deleteButton);
                
            // å‰Šé™¤ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰<li>ã‚’å‰Šé™¤
                deleteButton.addEventListener("click", function() {
                     li.remove();
                });
            //ç·¨é›†ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰ç·¨é›†ç”»é¢ã«é·ç§»
                editButton.addEventListener("click", function () {

                    //ç¾åœ¨ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥æ‰‹ã—ã€ãƒœã‚¿ãƒ³ã‚’ç©ºç™½ã«å¤‰æ›å¾Œç©ºç™½ã‚’å‰Šé™¤
                    const currentText = li.firstChild.nodeValue.trim();

                    //å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œæˆ
                    const editInput = document.createElement("input");
                    //æ™®é€šã®ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒ‡å®š
                    editInput.type = "text";
                    //å–å¾—ã—ãŸãƒ¡ãƒ¢ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’inputã«ã‚»ãƒƒãƒˆ
                    editInput.value = currentText; 

                    //ç¢ºå®šãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                    const confirmButton = document.createElement("button");
                    confirmButton.textContent = "âœ”ï¸ ç¢ºå®š";
                    confirmButton.classList.add("confirm-btn");

                    //liã®ä¸­èº«ã‚’ä¸€æ—¦ã‚¯ãƒªã‚¢ã™ã‚‹
                    li.innerHTML = "";
                    li.appendChild(editInput);
                    li.appendChild(confirmButton);

                    //ç¢ºå®šãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã¨ãã®å‡¦ç†
                    confirmButton.addEventListener("click", function () {
                        li.textContent = editInput.value; // å…¥åŠ›ã—ãŸå€¤ã‚’é©ç”¨

                        //ç·¨é›†ãƒœã‚¿ãƒ³ã‚’å†åº¦liå†…ã«å…¥ã‚Œã‚‹
                        li.appendChild(editButton);

                        //å‰Šé™¤ãƒœã‚¿ãƒ³ã‚‚å…ƒã«æˆ»ã™
                        li.appendChild(deleteButton);
                        
                    });
                });

            // å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
            input.value = "";
        });
    </script>
</body>
</html>